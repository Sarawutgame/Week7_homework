pipeline {
    agent any

    stages {
        
        stage('Welcome to master1'){
            steps{
                echo 'Start Program HomeWork'
            }
        }

        stage('read text Data') {
           steps {
               script {
                   def data = readFile(file: 'Data.json')
                   println(data)
               }
           }
       }

        stage('Tigger the Slave Jobs') {
            steps {
                echo $data
                echo 'Start Trigger to send name and age to slave'
                build job: 'slave_homework', parameters: [string(name: 'NAME', value: data.NAME), string(name: 'Ages', value: data.AGE)]
            }
        }
    }
}
